var EstadoCuentaControllerImpl=function(a,o,t,n,i){document.getElementsByTagName("title")[0].innerHTML=$MESSAGES.MensajesSimit.titles.nombreSitioTitle+$MESSAGES.MensajesSimit.titles.separadorTitle+$MESSAGES.MensajesSimit.titles.estadoCuentaTitle,$.validator.addMethod("regex",function(e,o,a){return e=e.replace(/\s/g,""),this.optional(o)||a.test(e)},$MESSAGES.MensajesSimit.estadoCuenta.validateTxtBusquedaAlphanumeric);var c={mismoDocumento:{}},r=introJs(),s={rules:{txtBusqueda:{required:!0,minlength:4,maxlength:20,regex:/^[a-z0-9\\]+$/i},txtEmailUno:{required:!0,email:!0},txtEmailDos:{required:!0,email:!0},txtEmailTres:{required:!0,email:!0},txtEmailCuatro:{required:!0,email:!0},txtEmailCinco:{required:!0,email:!0}},messages:{txtBusqueda:{minlength:$MESSAGES.MensajesSimit.estadoCuenta.validateTxtBusquedaMinlength,maxlength:$MESSAGES.MensajesSimit.estadoCuenta.validateTxtBusquedaMaxlength,required:$MESSAGES.MensajesSimit.estadoCuenta.validateTxtBusquedaRequerido}},errorPlacement:function(e,o){$UTIL.showMessage(e.text(),"error"),setTimeout(function(){$(".uk-notify-message").remove()},6e3)},submitHandler:function(){}},u={pazSalvo:!1,personasMismoDocumento:[],totalGeneral:0,totalMultas:0,totalMultasPagar:0,cantMultasPagar:0,totalAP:0,totalAcuerdosPagar:0,cantAcuerdosPagar:0,multas:[],acuerdosPago:[],cursos:[],cancelada:!1,suspendida:!1,fechaHastaSuspencion:"",fechaDesdeCancelSuspen:"",organismoTransitoCancelSuspen:""};function e(e){$("#txtBusqueda").rules("add",{required:e})}function d(e){c.acuerdosDataTable.destroy(),c.infoEstadoCuenta=e,c.infoEstadoCuenta.multas.forEach(function(o){o.isMultaTipoEmbriaguezRes=!1,o.isMultaTipoEmbriaguezComp=!1,o.infracciones.forEach(function(e){"F"!=e.codigoInfraccion&&"E03"!=e.codigoInfraccion&&"78"!=e.codigoInfraccion||(o.comparendo?"F"==e.codigoInfraccion&&(o.isMultaTipoEmbriaguezComp=!0):o.isMultaTipoEmbriaguezRes=!0)})}),c.infoEstadoCuenta.multas.forEach(function(e){e.seleccionado=!1,e.cantPxLinea=411,e.resCantPxLinea=75.959,e.proyeccion.forEach(function(e){e.clase="no-state"}),e.infracciones&&0!=e.infracciones.length&&e.infracciones[0]&&e.infracciones[0].descripcionInfraccion&&(e.descripcionCompleta=e.infracciones[0].descripcionInfraccion,e.descripcionInfraccion=117<e.descripcionCompleta.length?e.descripcionCompleta.substring(0,117)+"...":e.descripcionCompleta)}),c.infoEstadoCuenta.acuerdosPago.forEach(function(e){e.totalPagarSinDescuento=e.totalPagar}),e.pazSalvo&&(c.numDocPlacaPazSalvo=c.numDocPlaca,setTimeout(function(){$("#formCorreoPazSalvo").validate(s)},300)),e.multas.forEach(function(a){var t,n,i,e,o,r,s;a.comparendo?(n={},i=a.proyeccion.length-1,a.proyeccion.forEach(function(e,o){moment(e.fecha,"DD/MM/YYYY").toDate()<=new Date&&(e.clase="is-done",t=o+1),-1==e.dias.toString().indexOf("dÃ­as")&&-1==e.dias.toString().indexOf("meses")&&(0<o&&(o==a.proyeccion.length-1?n.dias=e.dias+" "+$MESSAGES.MensajesSimit.estadoCuenta.meses:n.dias=e.dias+" "+$MESSAGES.MensajesSimit.estadoCuenta.diasHabiles,o==i&&(e.dias="")),n=e)}),a.proyeccion[t]&&(a.proyeccion[t].clase="current")):a.proyeccion&&(3==a.proyeccion.length?(a.proyeccion[1]&&(a.proyeccion[1].clase="is-done"),a.proyeccion[2]&&(a.proyeccion[2].clase="current proximo"),e=moment(a.proyeccion[0].fecha,"DD/MM/YYYY").toDate(),r=280-560*(o=(moment(a.proyeccion[1].fecha,"DD/MM/YYYY").toDate()-e)/6e4/60/24/((moment(a.proyeccion[2].fecha,"DD/MM/YYYY").toDate()-e)/6e4/60/24)),o<=.5&&(r*=-1),s=r+411,a.proyeccion[1]&&(a.proyeccion[1].estilo="transform: translateX("+r+"px);"),a.cantPxLinea=s):a.proyeccion[1]&&(a.proyeccion[1].clase="current proximo"))}),e.acuerdosPago.forEach(function(e){var a=!1;e.planPagos.forEach(function(e,o){a?e.clase="no-state":e.idEstado==$homeConstantes.estadoCartera.PENDIENTE_PAGO?(e.clase="current-item",a=!0):e.clase="is-done"})}),e.acuerdosPago.forEach(function(e,a){var t=!1;e.selectAll=!1,e.cuotasExpanded=!1,0==e.cuotasPendientes.length?(e.totalPagarSinDescuento=e.totalPagar,e.totalPagar=e.totalPagar-e.totalDescuentoCapital):e.cuotasPendientes.forEach(function(e,o){t?(e.vencida=!1,e.proxima=!1):(moment(e.fechaPago+" 23:59:59","DD/MM/YYYY HH:mm:ss").toDate()<new Date?(e.vencida=!0,e.proxima=!1,e.seleccionado=!0):(e.vencida=!1,e.proxima=!0,e.seleccionado=!0,t=!0),c.checkCuotas(a,o,!0))})}),$("#formCorreoEstadoCuenta").validate(s)}function l(){setTimeout(function(){c.infoEstadoCuenta.multas.forEach(function(e,o){var a=$("#popoverTotalTd"+o),t=$("#popoverInfraccion"+o),n=$("#popover-cobro"+o);!e.comparendo&&(e.comparendo||e.sisa)||a.on("mouseenter",function(){a.popover({html:!0,trigger:"hover focus",placement:"right",content:function(){return $("#popoverTotal"+o).html()}}),a.popover("show")}),t.on("mouseenter",function(){t.popover({trigger:"hover focus",placement:"top"}),t.popover("show")}),e.comparendo&&e.idEstadoComparendo==$homeConstantes.estadoComparendo.PENDIENTE&&!e.impreso&&!e.isEmbriaguez||n.on("mouseenter",function(){n.popover({trigger:"hover focus",placement:"right",content:"Esta multa no se puede pagar a travÃ©s de Simit, para mÃ¡s informaciÃ³n dirÃ­gete a la oficina de trÃ¡nsito donde te la impusieron"}),n.popover("show")})}),c.infoEstadoCuenta.acuerdosPago.forEach(function(e,o){var a=$("#popover-acuerdo"+o),t=$("#popoverValorPagarTd"+o);e.idEstado==$homeConstantes.estadoCartera.ACUERDO_PAGO&&e.liquidacionApParam16&&!e.impreso||(a.on("mouseenter",function(){a.popover("dispose"),e.idEstado==$homeConstantes.estadoCartera.ACUERDO_PAGO&&e.liquidacionApParam16&&!e.impreso||(a.popover({trigger:"hover focus",placement:"right",content:"Este acuerdo no se puede pagar a travÃ©s de Simit, para mÃ¡s informaciÃ³n dirÃ­gete a una oficina de trÃ¡nsito"}),a.popover("show"))}),e.estadoPago&&t.on("mouseenter",function(){t.popover("dispose"),t.popover({html:!0,trigger:"hover focus",placement:"top",content:function(){return $("#popoverValorPagar"+o).html()}}),t.popover("show")}))}),f(),C(),$("head").append("<style>.resprogressbar::before { width:0% !important;}</style>"),$UTIL.loader.hide()},300)}function m(){var e={};return e.reCaptchaDTO=c.reCaptchaDTO,e.esPlaca=c.infoEstadoCuenta.paramEntradaPlaca,e.emailRemitente=c.correoCertificado,c.infoEstadoCuenta.paramEntradaPlaca?e.placa=c.numDocPlaca:(e.numeroDocumento=c.numDocPlaca,0!=c.infoEstadoCuenta.multas.length?e.idTipoDocumento=c.infoEstadoCuenta.multas[0].infractor.idTipoDocumento:0!=c.infoEstadoCuenta.acuerdosPago&&(e.idTipoDocumento=c.infoEstadoCuenta.acuerdosPago[0].infractor.idTipoDocumento)),e}function p(e){e.seleccionado?(c.infoEstadoCuenta.totalMultasPagar=c.infoEstadoCuenta.totalMultasPagar+e.valorPagar,c.infoEstadoCuenta.cantMultasPagar=c.infoEstadoCuenta.cantMultasPagar+1):(c.infoEstadoCuenta.totalMultasPagar=c.infoEstadoCuenta.totalMultasPagar-e.valorPagar,c.infoEstadoCuenta.cantMultasPagar=c.infoEstadoCuenta.cantMultasPagar-1)}function f(){!function(){var p=document.getElementById("multaTable");{function f(){var e,o,a=Math.ceil(g/P),t=(E-1)*P,n=t+P;g<n&&(n=g),C.disabled=1===E,h.disabled=E===a,v.innerHTML="",o=a<=5?(e=1,a):E<=4?(e=1,6):a-3<=E?(e=a-5,a):(e=E-3,E+2);for(var i=Math.min(o-e+1,a),r=e,s=0;s<i;s++){var c=r+s,u=document.createElement("button");u.className="number-pagination",u.textContent=c,(u.value=c)===E&&u.classList.add("active"),v.appendChild(u)}$("#multaTable")[0];for(var d=p.querySelectorAll("tbody tr"),s=0;s<d.length;s++)d[s].style.display="none";for(s=t;s<n;s++)d[s].style.display="";for(var l=v.getElementsByTagName("button"),m=0;m<l.length;m++)l[m].addEventListener("click",function(){E=parseInt(this.value),f()})}var g,e,C,h,v,o,a,E,P;p&&(15<(g=p.querySelectorAll("tbody tr").length)?((e=document.createElement("div")).className="pagination-custom",e.style.width="100%",(C=document.createElement("a")).className="custom-button-pagination button-prev",(h=document.createElement("a")).className="custom-button-pagination button-next",(v=document.createElement("div")).className="page-buttons-container",(o=document.createElement("div")).appendChild(document.createTextNode("Mostrar ")),o.id="page-length-container",o.className="page-leght",o.style.width="100%",(a=document.createElement("select")).id="pageLengthSelect",a.className="page-leght-select",a.innerHTML='<option value="5">5</option><option value="10">10</option><option value="15">15</option>',a.addEventListener("change",function(){P=parseInt(a.value),E=1,f()}),e.appendChild(C),e.appendChild(v),e.appendChild(h),o.appendChild(a),e.appendChild(o),$("#paginador").after(e),$("#pageLengthContainer").after(o),E=1,P=parseInt(a.value),C.addEventListener("click",function(){1<E&&(E--,f())}),h.addEventListener("click",function(){var e=Math.ceil(g/P);E<e&&(E++,f())}),f(),p.parentElement.appendChild(e)):($("#paginador").hide(),$("#pageLengthContainer").hide()))}S()}(),S(),g()}function S(){$("#multaTable tbody").off("click","td.details-control"),$("#multaTable tbody").on("click","td.details-control",function(){var e,o,a;c.idDivProyeccion&&!c.modoOnBoarding&&(o=(e=$(this).closest("tr")).find("em.bx"),e.hasClass("shown")?(e.next("tr.proyeccion-details").remove(),e.removeClass("shown"),o.last().removeClass("bx-chevron-down").addClass("bx-chevron-up"),c.idDivProyeccion=null,c.indexMultaProyeccion=null):(a=$('<tr class="proyeccion-details"><td colspan="9">'+function(){var e="";{var o;c.idDivProyeccion&&(o=document.getElementById(c.idDivProyeccion),e=o.children[0].innerHTML)}return e}(c.idDivProyeccion)+"</td></tr>"),e.after(a),e.addClass("shown"),o.last().removeClass("bx-chevron-up").addClass("bx-chevron-down"),g()))})}function g(){setTimeout(function(){var t=c.indexMultaProyeccion;c.infoEstadoCuenta.multas[t].proyeccion.forEach(function(e,o){var a=$(".popoverCurrentP"+t+"_"+o);a.off("mouseenter"),a.on("mouseenter",function(){$(this).data("popoverShown")||(a.popover("dispose"),$(this).data("popoverShown",!0),$(this).popover({html:!0,trigger:"hover",placement:"top",content:function(){return $("#popoverCurrent"+t+"_"+o).html()}}),$(this).popover("show"))})})},300)}function C(){$.fn.dataTable.isDataTable("#acuerdoPagoTable")?c.acuerdosDataTable=$("#acuerdoPagoTable").DataTable():c.acuerdosDataTable=$("#acuerdoPagoTable").DataTable({retrieve:!0,bSort:!0,responsive:!0,pageLength:5,lengthMenu:[5,10,25,50],order:[[1,"asc"],[2,"asc"],[4,"asc"]],columnDefs:[{orderable:!1,targets:6}],language:{info:"Mostrando _PAGE_ de _PAGES_",lengthMenu:"Mostrar _MENU_ ",paginate:{first:"Primero",last:"Ãšltimo",next:'<em class="bx bxs-chevron-right d-lg-none d-md-none b-block"></em><span class="d-md-block d-none">Siguiente</span> ',previous:'<em class="bx bxs-chevron-left d-lg-none d-md-none b-block"></em><span class="d-md-block d-none">Anterior</span> '}},dom:'<"top"<"row mx-0 datatable-cont-inputs"<"col-sm-12 d-flex justify-content-end px-0"l>>>rt<"bottom flex-md-row flex-column dataTables_wrapper dataTables_paginate mb-1 align-items-center justify-content-between"ip><"clear">'})}function h(e,o,a){var t,n,i=e.seleccionado;v(e,i),a||(o.seleccionado?(e.totalPagar=e.totalPagar+o.valorPagar,e.totalCuotasSelect=e.totalCuotasSelect+1,c.totalPagarAP=e.totalPagar+o.valorPagar):(e.totalPagar=e.totalPagar-o.valorPagar,e.totalCuotasSelect=e.totalCuotasSelect-1,c.totalPagarAP=e.totalPagar-o.valorPagar),e.totalPagarSinDescuento=e.totalPagar),n=o,(t=e).cuotasPendientes.indexOf(n)==t.cuotasPendientes.length-1&&(n.seleccionado?t.totalPagar=t.totalPagar-t.totalDescuentoCapital:t.totalPagar=t.totalPagar+t.totalDescuentoCapital),v(e,i),c.totalPagarAP=e.totalPagar}function v(e,o){o&&(e.seleccionado?e.seleccionado=!1:e.seleccionado=!0,E(e))}function E(e){e.seleccionado?(c.infoEstadoCuenta.totalAcuerdosPagar=c.infoEstadoCuenta.totalAcuerdosPagar+e.totalPagar,c.infoEstadoCuenta.cantAcuerdosPagar=c.infoEstadoCuenta.cantAcuerdosPagar+1):(c.infoEstadoCuenta.totalAcuerdosPagar=c.infoEstadoCuenta.totalAcuerdosPagar-e.totalPagar,c.infoEstadoCuenta.cantAcuerdosPagar=c.infoEstadoCuenta.cantAcuerdosPagar-1)}function P(){$("body").click(function(e){0==$(e.target).parents(".multiselect").length&&c.infoEstadoCuenta.acuerdosPago.forEach(function(e,o){e.cuotasExpanded&&c.showCheckboxesCuotasAcuerdo(o)})})}function T(){var a={multas:[],acuerdosPago:[]};return c.infoEstadoCuenta.multas.forEach(function(e){var o;e.seleccionado&&((o={}).idMulta=e.comparendo?e.consecutivoComparendo:e.idResolucion,o.comparendo=e.comparendo,o.infractor={idTipoDocumento:e.infractor.idTipoDocumento,tipoDocumento:e.infractor.tipoDocumento,numeroDocumento:e.infractor.numeroDocumento},o.valor=e.valorPagar,a.multas.push(o))}),c.infoEstadoCuenta.acuerdosPago.forEach(function(e){var o;e.seleccionado&&((o={}).idResolucion=e.idResolucion,o.cuotasPendientes=e.resultCuotasSelect,o.infractor={idTipoDocumento:e.infractor.idTipoDocumento,tipoDocumento:e.infractor.tipoDocumento,numeroDocumento:e.infractor.numeroDocumento},o.valor=e.totalPagar,a.acuerdosPago.push(o))}),a}function D(){var a={multas:[],acuerdosPago:[],email:[c.emailLiquidacion]};return c.infoEstadoCuenta.multas.forEach(function(e){var o;e.seleccionado&&((o={}).idMulta=e.comparendo?e.consecutivoComparendo:e.idResolucion,o.comparendo=e.comparendo,a.multas.push(o))}),c.infoEstadoCuenta.acuerdosPago.forEach(function(e){var o;e.seleccionado&&((o={}).idResolucion=e.idResolucion,o.cuotasPendientes=e.resultCuotasSelect,a.acuerdosPago.push(o))}),a}function M(e){return e&&e.replace(/ /g,"")}return c.onSubmit=function(e){$UTIL.isReCaptchaEnabled()?c.reCaptchaDTO={response:e,consumidor:$CONSTANTES.TipoDevice.DESKTOP}:c.reCaptchaDTO={response:null,consumidor:null},setTimeout(function(){c.serviceExecute()},100)},c.modoOnBoarding=!1,c.messages=$MESSAGES,c.multaDataTable=null,c.acuerdosDataTable=null,c.numDocPlaca="",c.numDocPlacaPazSalvo="",c.habilitarImpresionPago=!0,c.habilitarPagoPse=!0,c.correoCertificado="",c.numComparendoEnviarCursos="",c.indexPersonasRepetidasSelected=null,c.apSelectPlanPagos={cuotasPendientes:[]},c.totalPagarAP=0,c.idDivProyeccion=null,c.indexMultaProyeccion=null,c.checkAllMultas=!1,c.checkAllAcuerdos=!1,c.numeroCurso="",c.tipoInfraccion="",c.emailLiquidacion="",c.lisTiposDocumento=[],c.infoPersona={idTipoDocumento:$homeConstantes.tiposDocumentos.CEDULA,numeroDocumento:null},c.botonDescargarPazySalvo=!0,c.infoEstadoCuenta=u,c.infoEstadoCuentaOnBoarding={multas:[{infractor:{tipoDocumento:"Cedula",numeroDocumento:"9999999987654321",nombre:"LUISA",apellido:"CASTRO",idTipoDocumento:1},valor:438900,placa:"ZZZ999",infracciones:[{codigoInfraccion:"C01",descripcionInfraccion:"Presentar licencia de conducciÂ¿n adulterada o ajena lo cual darÂ¿ lugar a la inmovilizaciÂ¿n del vehÂ¿culo.",valorInfraccion:438900}],proyeccion:[{descripcion:"NotificaciÃ³n comparendo",valor:438900,fecha:"01/02/2020 08:40:00",dias:"",instrucciones:"Valor real al momento de cometerse la infracciÃ³n ",clase:"is-done"},{descripcion:"50% descuento",valor:164587.5,fecha:"07/02/2020",dias:"5 dÃ­as hÃ¡biles",instrucciones:"Accede al descuento mediante una de estas opciones:<br/> <br/> - Pagar con 50% de descuento realizando un curso vial <br/> - Solicitar un acuerdo de pago para cancelar en varias cuotas <br/> - Solicitar una audiencia sino estÃ¡ de acuerdo con la multa  ",clase:"is-done"},{descripcion:"25% descuento",valor:246881.25,fecha:"28/02/2020",dias:"20 dÃ­as hÃ¡biles",instrucciones:"Accede al descuento mediante una de estas opciones:<br/> - Pagar con 50% de descuento realizando un curso vial <br/> - Solicitar un acuerdo de pago para cancelar en varias cuotas ",clase:"is-done"},{descripcion:"Sin intereses",valor:438900,fecha:"01/12/2020",dias:"10 meses",instrucciones:"A partir de este momento se empezarÃ¡n a generar los intereses por mora y darÃ¡ origen a una resoluciÃ³n. Te recomendamos cancelar la multa para evitar el proceso  de pago forzado de las obligaciones que puedan generar una medida de embargo ",clase:"current"}],comparendo:!0,impreso:!1,valorPagar:438900,porcentajeDescuentoIntereses:0,porcentajeDescuentoCapital:0,idDepartamento:5,departamento:"Antioquia",numeroComparendo:"99999999999987654321",organismoTransito:"Medellin",idOrganismoTransito:"05001000",polca:"N",valorDescuentoCapital:0,valorDescuentoIntereses:0,valorGestion:0,fechaComparendo:"01/02/2020 08:40:00",seleccionado:!1,descripcionCompleta:"Presentar licencia de conducciÃ³n adulterada o ajena lo cual darÃ¡ lugar a la inmovilizaciÃ³n del vehÃ­culo.",descripcionInfraccion:"Presentar licencia de conducciÃ³n adulterada o ajen...",consecutivoComparendo:31179267,estadoComparendo:"Pendiente",comparendoElectronico:!1,poseeCurso:"N",idEstadoComparendo:1,valorDescuentoProntoPago:0,fechaNotificacion:"01/01/1900 00:00:00",cantPxLinea:411}],personasMismoDocumento:[],pazSalvo:!1,totalGeneral:915419,totalMultas:438900,totalAp:476519,paramEntradaPlaca:!1,cursos:[],acuerdosPago:[{idResolucion:64266671,resolucion:"9876543210123",fechaResolucion:"07/01/2021",idEstado:2,estado:"Acuerdo de pago",valorAcuerdo:438900,valorGestion:0,pendiente:476519,totalCuotasSelect:5,totalPagar:476519,totalDescuentoCapital:0,totalAbonado:-37619,cuotasPendientes:[{nroCuota:1,estado:"Pendiente de pago",idEstado:1,fechaPago:"07/01/2021",valorCuota:325712,interesMora:0,valorPagar:325712,interesMulta:0,descuentoCapital:0,idResolucion:"64266672",consecutivoCartera:"39409278",fechaResolucion:"07/01/2021",vencida:!0,proxima:!1,seleccionado:!0},{nroCuota:2,estado:"Pendiente de pago",idEstado:1,fechaPago:"10/02/2021",valorCuota:50269,interesMora:0,valorPagar:50269,interesMulta:0,descuentoCapital:0,idResolucion:"64266673",consecutivoCartera:"39409279",fechaResolucion:"07/01/2021",vencida:!0,proxima:!1,seleccionado:!0},{nroCuota:3,estado:"Pendiente de pago",idEstado:1,fechaPago:"10/03/2021",valorCuota:50269,interesMora:0,valorPagar:50269,interesMulta:0,descuentoCapital:0,idResolucion:"64266674",consecutivoCartera:"39409280",fechaResolucion:"07/01/2021",vencida:!0,proxima:!1,seleccionado:!0},{nroCuota:4,estado:"Pendiente de pago",idEstado:1,fechaPago:"10/04/2021",valorCuota:50269,interesMora:0,valorPagar:50269,interesMulta:0,descuentoCapital:0,idResolucion:"64266675",consecutivoCartera:"39409281",fechaResolucion:"07/01/2021",vencida:!0,proxima:!1,seleccionado:!0}],planPagos:[{nroCuota:1,estado:"Pendiente de pago",idEstado:1,fechaPago:"07/01/2021",valorCuota:325712,interesMora:0,valorPagar:325712,interesMulta:0,descuentoCapital:0,idResolucion:"64266672",consecutivoCartera:"39409278",fechaResolucion:"07/01/2021",clase:"current-item"},{nroCuota:2,estado:"Pendiente de pago",idEstado:1,fechaPago:"10/02/2021",valorCuota:50269,interesMora:0,valorPagar:50269,interesMulta:0,descuentoCapital:0,idResolucion:"64266673",consecutivoCartera:"39409279",fechaResolucion:"07/01/2021",clase:"no-state"},{nroCuota:3,estado:"Pendiente de pago",idEstado:1,fechaPago:"10/03/2021",valorCuota:50269,interesMora:0,valorPagar:50269,interesMulta:0,descuentoCapital:0,idResolucion:"64266674",consecutivoCartera:"39409280",fechaResolucion:"07/01/2021",clase:"no-state"},{nroCuota:4,estado:"Pendiente de pago",idEstado:1,fechaPago:"10/04/2021",valorCuota:50269,interesMora:0,valorPagar:50269,interesMulta:0,descuentoCapital:0,idResolucion:"64266675",consecutivoCartera:"39409281",fechaResolucion:"07/01/2021",clase:"no-state"}],cantTotalCuotasPlanPago:4,liquidacionApParam16:!0,impreso:!1,seleccionado:!1,cantCuotasAbonadas:4,totalIntereses:0,idTipoResolucion:8,infractor:{tipoDocumento:"Cedula",numeroDocumento:"9999999987654321",nombre:"LUISA",apellido:"CASTRO",idTipoDocumento:1},idOrganismoTransito:"05001000",polca:"N",consecutivoCartera:"39409277",secretaria:"Medellin",cantCuotasPendientes:4,idDepartamento:5,departamento:"Antioquia",referenciaPago:null,estadoPago:null,totalPagarSinDescuento:476519,selectAll:!1,cuotasExpanded:!1,resultCuotasSelect:[1,2,3,4]}],totalMultasPagar:0,cantMultasPagar:0,totalAcuerdosPagar:0,cantAcuerdosPagar:0},c.comparendoEnProcesoNotifica="",c.toUpperCase=function(e){c[e]=M(c[e].toUpperCase())},c.capitalizarPrimeraLetra=function(e){var o="";return e&&(o=e.substring(0,1).toUpperCase()+e.substring(1,e.length).toLowerCase()),o},c.init=function(){c.habilitarImpresionPago=$CONFIG.habilitarImpresionPago,c.habilitarPagoPse=$CONFIG.habilitarPagoPse,moment.locale("es"),$.validator.messages.required="",$.validator.messages.email="",f(),C(),$("#formGetEstadoCuenta").validate(s),e(!1),$("#formEnviarCorreoCursos").validate(s),$("#formCorreoCuponPago").validate(s),function(){sessionStorage.getItem("cargarOnBoarding")&&(sessionStorage.setItem("infoEstadoCuenta",JSON.stringify(c.infoEstadoCuentaOnBoarding)),setTimeout(function(){document.getElementsByClassName("text-left details-control")[0].click(),setTimeout(function(){var e,o,a;e=c.modoOnBoarding=!0,o=!1,a=[{element:document.querySelectorAll("#txtBusqueda")[0],intro:"",position:"bottom"},{element:document.querySelectorAll("#tdMulta0")[0],intro:$MESSAGES.MensajesSimit.introJs.step4,position:"left"},{element:document.querySelectorAll("#btnPagar")[0],intro:$MESSAGES.MensajesSimit.introJs.step5,position:"left"},{element:document.querySelectorAll("#botonDocumento")[0],intro:$MESSAGES.MensajesSimit.introJs.step6,position:"top"},{element:document.querySelectorAll("#resumenEstadoCuenta")[0],intro:$MESSAGES.MensajesSimit.introJs.step7,position:"bottom"},{element:document.querySelectorAll("#generaPazSalvo")[0],intro:$MESSAGES.MensajesSimit.introJs.step16,position:"bottom"},{element:document.querySelectorAll("#enviarCorreo")[0],intro:$MESSAGES.MensajesSimit.introJs.step8,position:"bottom"},{element:document.querySelectorAll("#historialCursos")[0],intro:$MESSAGES.MensajesSimit.introJs.step9,position:"bottom"},{element:document.querySelectorAll("#verDetalle")[0],intro:$MESSAGES.MensajesSimit.introJs.step10,position:"bottom"},{element:document.querySelectorAll("#pStepLinkProyeccion")[0],intro:$MESSAGES.MensajesSimit.introJs.step15,position:"bottom"},{element:document.querySelectorAll("#proyeccionMulta")[1],intro:$MESSAGES.MensajesSimit.introJs.step12,position:"bottom"},{element:document.querySelectorAll("#detalleAcuerdos")[0],intro:$MESSAGES.MensajesSimit.introJs.step13,position:"bottom"},{element:document.querySelectorAll("#acuerdoPagoTable_length")[0],intro:$MESSAGES.MensajesSimit.introJs.step14,position:"left"}],r.setOptions({steps:a,showBullets:!1,nextLabel:$MESSAGES.MensajesSimit.introJs.nextLabel,prevLabel:$MESSAGES.MensajesSimit.introJs.prevLabel,doneLabel:$MESSAGES.MensajesSimit.introJs.doneLabel}),r.onchange(function(e){switch(setTimeout(function(){$(".introjs-nextbutton").addClass("btn-primary"),$(".introjs-prevbutton").addClass("btn-outline-primary")},200),e.getAttribute("data-step")){case"1":o=!0,r.exit(!0),window.location="/";break;case"8":o=!0,r.exit(!0),window.location="#/detalle-multa"}}),r.onbeforechange(function(e){setTimeout(function(){"resumenEstadoCuenta"==e.getAttribute("id")&&window.scrollTo({top:0,behavior:"smooth"})},200)}),r.onexit(function(){e||o?e=!1:(sessionStorage.removeItem("cargarOnBoarding"),window.location="#/home-public")}),sessionStorage.getItem("pagAnt")&&"home"!=sessionStorage.getItem("pagAnt")?"sig"==sessionStorage.getItem("desde")?r.goToStepNumber(9).start():r.goToStepNumber(8).start():r.goToStepNumber(2).start()},500)},500));var e=sessionStorage.getItem("infoEstadoCuenta");{var o;null==e?(c.isHome=!0,(a||t)&&(a&&$UTIL.esVacio(i)?(c.numDocPlaca=a,setTimeout(function(){c.getEstadoCuenta()},500)):(c.correoCertificado=n,$UTIL.esVacio(t)&&!$UTIL.esVacio(i)?((t={}).idTipoDocumento=i,t.numeroDocumento=a,c.numDocPlaca=a):$UTIL.esVacio(t)||(c.numDocPlaca=t.numeroDocumento),setTimeout(function(){c.getEstadoCuentaTipoDoc()},500)),setTimeout(function(){$("#formGetEstadoCuenta").validate().element("#txtBusqueda")},200))):(sessionStorage.removeItem("infoEstadoCuenta"),d(o=JSON.parse(e)),l(),o.paramEntradaPlaca||(c.numDocPlaca=c.getDatosPersona("NUM_DOCUMENTO",o)))}}(),P(),c.totalPagarAP=c.infoEstadoCuenta.totalAP,P(),initReCaptcha(c.onSubmit),removeReCaptcha(),e(!0),setTimeout(function(){$(".uk-notify-message").remove()},6e3)},c.getEstadoCuenta=function(e){$("#formGetEstadoCuenta").valid()||a?($UTIL.loader.show(),window.location.href=window.location.href.split("?")[0]+"?numDocPlacaProp="+c.numDocPlaca,c.infoEstadoCuenta=u,c.serviceExecute=c.getEstadoCuentaLoader,o?(c.onSubmit(o),o=a=null):(resetWidget(c.onSubmit),grecaptcha.reset(widgetReCaptcha),grecaptcha.execute(widgetReCaptcha))):$UTIL.loader.hide()},c.getEstadoCuentaLoader=function(){var e={filtro:M(c.numDocPlaca.toUpperCase()),reCaptchaDTO:c.reCaptchaDTO};a=null,c.numDocPlacaPazSalvo="",c.correoCertificado="",$serviciosHome.resources.getEstadoCuenta(JSON.stringify(e),function(e){d(e),0<e.personasMismoDocumento.length?(c.indexPersonasRepetidasSelected=null,$("#modal-multiples-personas").modal("show")):c.mismoDocumento={},l()},function(e){$UTIL.loader.hide()})},c.getEstadoCuentaTipoDoc=function(){$UTIL.loader.show(),c.serviceExecute=c.getEstadoCuentaTipoDocLoader,resetWidget(c.onSubmit),grecaptcha.reset(widgetReCaptcha),grecaptcha.execute(widgetReCaptcha)},c.getEstadoCuentaTipoDocLoader=function(){var e,o;0==c.indexPersonasRepetidasSelected||c.indexPersonasRepetidasSelected||t?($("#modal-multiples-personas").modal("hide"),e={},t?(e=t,t=null):e=c.infoEstadoCuenta.personasMismoDocumento[c.indexPersonasRepetidasSelected],c.mismoDocumento.idTipoDocSelected=e.idTipoDocumento,o={placa:null,idTipoDocumento:e.idTipoDocumento,numeroDocumento:M(e.numeroDocumento),reCaptchaDTO:c.reCaptchaDTO},$serviciosHome.resources.getEstadoCuentaTipoDoc(JSON.stringify(o),function(e){d(e),l()},function(e){$UTIL.loader.hide()}),c.indexPersonasRepetidasSelected=null):$UTIL.loader.hide()},c.enviarCorreoEstadoCuenta=function(e){$("#formCorreoEstadoCuenta").valid()?($UTIL.loader.show(),c.serviceExecute=c.enviarCorreoEstadoCuentaLoading,resetWidget(c.onSubmit),grecaptcha.reset(widgetReCaptcha),grecaptcha.execute(widgetReCaptcha)):$UTIL.showMessage("El campo de correo electrÃ³nico no es vÃ¡lido o estÃ¡ vacÃ­o.","error")},c.enviarCorreoEstadoCuentaLoading=function(){var e=m();$serviciosHome.resources.sendEmailEstadoCuenta(JSON.stringify(e),function(e){$UTIL.showMessage("Email enviado correctamente.","success"),setTimeout(function(){$(".uk-notify-message").remove()},6e3),$UTIL.loader.hide()},function(e){$UTIL.showMessage("Se presentÃ³ un problema al tratar de enviar el email.","error"),setTimeout(function(){$(".uk-notify-message").remove()},6e3),$UTIL.loader.hide()})},c.getDatosPersona=function(e,o){var a="",t="",n="",i="",r=o||c.infoEstadoCuenta;return r.multas.forEach(function(e){e.infractor&&!t&&(a=e.infractor.nombre?e.infractor.nombre:(e.infractor.apellido,e.infractor.apellido),t=e.infractor.numeroDocumento,n=e.infractor.tipoDocumento)}),t||r.acuerdosPago.forEach(function(e){e.infractor&&!t&&(a=e.infractor.nombre?e.infractor.nombre:(e.infractor.apellido,e.infractor.apellido),t=e.infractor.numeroDocumento,n=e.infractor.tipoDocumento)}),"NOMBRES"==e?i=a:"NUM_DOCUMENTO"==e?i=t:"TIPO_DOCUMENTO"==e&&(i=n),null!=i&&i?i:" "},c.getCantMultasByTipo=function(o){var a=0;return c.infoEstadoCuenta.multas.forEach(function(e){e.comparendo==o&&a++}),a},c.generarLiquidacion=function(){$UTIL.loader.show(),c.serviceExecute=c.generarLiquidacionLoader,resetWidget(c.onSubmit),grecaptcha.reset(widgetReCaptcha),grecaptcha.execute(widgetReCaptcha)},c.generarLiquidacionLoader=function(){var e=D();e.reCaptchaDTO=c.reCaptchaDTO,0!=e.multas.length||0!=e.acuerdosPago.length?$serviciosHome.resources.generarLiquidacion(JSON.stringify(e),function(e){var o="data:application/pdf;base64,"+e,a=document.createElement("a");a.href=o,a.download="liquidacion.pdf",a.click(),$UTIL.loader.hide(),$("#modal-cupon").modal("hide"),c.getEstadoCuenta()},function(e){e.responseJSON&&($UTIL.showMessage(e.responseJSON.descripcion,"warning"),setTimeout(function(){$(".uk-notify-message").remove()},6e3)),console.log(e),$UTIL.loader.hide()}):$UTIL.loader.hide()},c.generarLiquidacionEmail=function(){$("#formCorreoCuponPago").valid()?($UTIL.loader.show(),c.serviceExecute=c.generarLiquidacionEmailLoader,resetWidget(c.onSubmit),grecaptcha.reset(widgetReCaptcha),grecaptcha.execute(widgetReCaptcha)):$UTIL.showMessage("El campo de correo electrÃ³nico no es vÃ¡lido o estÃ¡ vacÃ­o.","error")},c.generarLiquidacionEmailLoader=function(){var e=D();e.reCaptchaDTO=c.reCaptchaDTO,0!=e.multas.length||0!=e.acuerdosPago.length?$serviciosHome.resources.generarLiquidacionEmail(JSON.stringify(e),function(e){$UTIL.showMessage("Correo electrÃ³nico enviado correctamente.","success"),setTimeout(function(){$(".uk-notify-message").remove()},6e3),$UTIL.loader.hide()},function(e){$UTIL.showMessage("Se presentÃ³ un problema al tratar de enviar el correo.","error"),setTimeout(function(){$(".uk-notify-message").remove()},6e3),$UTIL.loader.hide()}):$UTIL.loader.hide()},c.enviarCorreoPazSalvo=function(e){$("#formCorreoPazSalvo").valid()?($UTIL.loader.show(),c.serviceExecute=c.enviarCorreoPazSalvoLoading,resetWidget(c.onSubmit),grecaptcha.reset(widgetReCaptcha),grecaptcha.execute(widgetReCaptcha)):$UTIL.showMessage($MESSAGES.MensajesSimit.estadoCuenta.correoInvalidoVacio,"error")},c.enviarCorreoPazSalvoLoading=function(){var e=m();c.mismoDocumento&&(e.idTipoDocumento=c.mismoDocumento.idTipoDocSelected),null==e.idTipoDocumento&&(e.idTipoDocumento=c.infoPersona.idTipoDocumento,$("#modal-tipo-doc").modal("hide")),$serviciosHome.resources.sendEmailPazSalvo(JSON.stringify(e),function(e){$UTIL.showMessage("Email enviado correctamente.","success"),setTimeout(function(){$(".uk-notify-message").remove()},6e3),$UTIL.loader.hide()},function(e){$UTIL.showMessage("Se presentÃ³ un problema al tratar de enviar el email.","error"),setTimeout(function(){$(".uk-notify-message").remove()},6e3),$UTIL.loader.hide()})},c.downloadPdfPazSalvo=function(){$UTIL.loader.show(),setTimeout(function(){!function(){if(c.infoEstadoCuenta.paramEntradaPlaca)return $UTIL.showMessage("No es posible descargar el paz y salvo buscando por placa del vehÃ­culo, ingresa un nÃºmero de identificaciÃ³n.","warning"),setTimeout(function(){$(".uk-notify-message").remove()},6e3),$UTIL.loader.hide();$UTIL.loader.show(),c.serviceExecute=c.pdfPazSalvo,resetWidget(c.onSubmit),grecaptcha.reset(widgetReCaptcha),grecaptcha.execute(widgetReCaptcha)}()},100)},c.pdfPazSalvo=function(){var e=m();c.mismoDocumento&&null!=c.mismoDocumento.idTipoDocSelected&&(e.idTipoDocumento=c.mismoDocumento.idTipoDocSelected),null==e.idTipoDocumento&&(e.idTipoDocumento=c.infoPersona.idTipoDocumento,$("#modal-tipo-doc").modal("hide")),$serviciosHome.resources.getPdfPazySalvo(JSON.stringify(e),function(e){var o,a;e&&e.pdf&&(o="data:application/pdf;base64,"+e.pdf,(a=document.createElement("a")).href=o,a.download="Paz y Salvo.pdf",a.click()),$UTIL.loader.hide()},function(e){$UTIL.showMessage("Se presentÃ³ un problema al tratar de descargar el archivo.","error"),setTimeout(function(){$(".uk-notify-message").remove()},6e3),$UTIL.loader.hide()})},c.openModalTipoDocumento=function(e){2==e&&($UTIL.esVacio(c.mismoDocumento.idTipoDocSelected)?(c.getListTiposDocumento(),$("#modal-tipo-doc").modal("show"),c.botonDescargarPazySalvo=!0):c.downloadPdfPazSalvo()),1==e&&($UTIL.esVacio(c.mismoDocumento.idTipoDocSelected)?$("#formCorreoPazSalvo").valid()?(c.getListTiposDocumento(),$("#modal-tipo-doc").modal("show"),c.botonDescargarPazySalvo=!1):$UTIL.showMessage($MESSAGES.MensajesSimit.estadoCuenta.correoInvalidoVacio,"error"):c.enviarCorreoPazSalvo())},c.downloadPDFEstadoCuenta=function(){c.modoOnBoarding||($UTIL.loader.show(),c.serviceExecute=c.downloadPDFEstadoCuentaLoading,resetWidget(c.onSubmit),grecaptcha.reset(widgetReCaptcha),grecaptcha.execute(widgetReCaptcha))},c.downloadPDFEstadoCuentaLoading=function(){var e=m();$serviciosHome.resources.downloadEstadoCuenta(JSON.stringify(e),function(e){var o,a;e&&e.pdf&&(o="data:application/pdf;base64,"+e.pdf,(a=document.createElement("a")).href=o,a.download="Estado de cuenta.pdf",a.click()),$UTIL.loader.hide()},function(e){$UTIL.showMessage("Se presento un problema al tratar de descargar el archivo.","error"),setTimeout(function(){$(".uk-notify-message").remove()},6e3),$UTIL.loader.hide()})},c.setNumComparendoEnviarCursos=function(e){c.numComparendoEnviarCursos=e},c.setIndexMulta=function(e){$UTIL.loader.show(),c.indexMulta=e,c.serviceExecute=c.findCursoByComparendoLoading,resetWidget(c.onSubmit),grecaptcha.reset(widgetReCaptcha),grecaptcha.execute(widgetReCaptcha)},c.findCursoByComparendoLoading=function(){if(0<c.infoEstadoCuenta.cursos.length){for(var e=0;e<c.infoEstadoCuenta.cursos.length;e++)c.infoEstadoCuenta.multas[c.indexMulta].numeroComparendo==c.infoEstadoCuenta.cursos[e].numeroMulta&&c.infoEstadoCuenta.multas[c.indexMulta].idOrganismoTransito==c.infoEstadoCuenta.cursos[e].secretaria&&(c.numeroCurso=c.infoEstadoCuenta.cursos[e].numeroCurso,c.tipoInfraccion=c.infoEstadoCuenta.multas[c.indexMulta].infracciones[0].codigoInfraccion);$UTIL.loader.hide()}else{var o={idTipoDoc:c.infoEstadoCuenta.multas[c.indexMulta].infractor.idTipoDocumento,numeroDoc:c.infoEstadoCuenta.multas[c.indexMulta].infractor.numeroDocumento,idOrganismoTransito:c.infoEstadoCuenta.multas[c.indexMulta].idOrganismoTransito,numeroMulta:c.infoEstadoCuenta.multas[c.indexMulta].numeroComparendo,reCaptchaDTO:c.reCaptchaDTO};$serviciosHome.resources.getCursosVialesIfPlaca(JSON.stringify(o),function(e){c.numeroCurso=e.numeroCurso,c.tipoInfraccion=c.infoEstadoCuenta.multas[c.indexMulta].infracciones[0].codigoInfraccion,$UTIL.loader.hide()},function(e){$("#modal-cursos").modal("hide"),$UTIL.showMessage("No es posible descargar el PDF o enviar correo del certificado del curso en este momento.","warning"),setTimeout(function(){$(".uk-notify-message").remove()},6e3),$UTIL.loader.hide()})}},c.enviarCorreoCertificadoCurso=function(){$("#formEnviarCorreoCursos").valid()?($UTIL.loader.show(),c.serviceExecute=c.enviarCorreoCertificadoCursoLoading,resetWidget(c.onSubmit),grecaptcha.reset(widgetReCaptcha),grecaptcha.execute(widgetReCaptcha)):$UTIL.showMessage("El campo de correo electrÃ³nico no es vÃ¡lido o estÃ¡ vacÃ­o.","error")},c.enviarCorreoCertificadoCursoLoading=function(){var e={idTipoDoc:c.infoEstadoCuenta.multas[c.indexMulta].infractor.idTipoDocumento,numeroDoc:c.infoEstadoCuenta.multas[c.indexMulta].infractor.numeroDocumento,idOrganismoTransito:c.infoEstadoCuenta.multas[c.indexMulta].idOrganismoTransito,numeroMulta:c.infoEstadoCuenta.multas[c.indexMulta].numeroComparendo,email:c.correoCertificado,reCaptchaDTO:c.reCaptchaDTO};$serviciosHome.resources.sendEmailCerificadoCurso(JSON.stringify(e),function(e){$UTIL.showMessage("Email enviado correctamente.","success"),setTimeout(function(){$(".uk-notify-message").remove()},6e3),$UTIL.loader.hide()},function(e){$UTIL.showMessage("Se presento un problema al tratar de enviar el correo.","warning"),setTimeout(function(){$(".uk-notify-message").remove()},6e3),$UTIL.loader.hide()})},c.downloadPDFCertificadoCurso=function(){$UTIL.loader.show(),c.serviceExecute=c.downloadPDFCertificadoCursoLoading,resetWidget(c.onSubmit),grecaptcha.reset(widgetReCaptcha),grecaptcha.execute(widgetReCaptcha)},c.downloadPDFCertificadoCursoLoading=function(){var e={idTipoDoc:c.infoEstadoCuenta.multas[c.indexMulta].infractor.idTipoDocumento,numeroDoc:c.infoEstadoCuenta.multas[c.indexMulta].infractor.numeroDocumento,idOrganismoTransito:c.infoEstadoCuenta.multas[c.indexMulta].idOrganismoTransito,numeroMulta:c.infoEstadoCuenta.multas[c.indexMulta].numeroComparendo,reCaptchaDTO:c.reCaptchaDTO};$serviciosHome.resources.getPdfCertificadoCurso(JSON.stringify(e),function(e){var o="data:application/pdf;base64,"+e.filtro,a=document.createElement("a");a.href=o,a.download="Certificado curso.pdf",a.click(),$UTIL.loader.hide()},function(e){$UTIL.showMessage("Se presento un problema al tratar de descargar el archivo.","error"),setTimeout(function(){$(".uk-notify-message").remove()},6e3),$UTIL.loader.hide()})},c.goToDetalle=function(e){c.modoOnBoarding||($("#popoverMulta"+e)&&$("#popoverMulta"+e).popover("dispose"),removeReCaptcha(),sessionStorage.setItem("infoEstadoCuenta",JSON.stringify(c.infoEstadoCuenta)),this.$router.push({name:"detalleMulta",params:{multa:c.infoEstadoCuenta.multas[e],numDocumento:c.numDocPlaca}}))},c.openModalEnProcesoNotifica=function(e){c.comparendoEnProcesoNotifica=c.infoEstadoCuenta.multas[e].numeroComparendo,$("#modal-en-proceso-notifica").modal("show")},c.metodoPago=function(){var e;(null==c.infoEstadoCuenta.mensajeValidacionPagoPlaca&&null==c.infoEstadoCuenta.mensajeValidacionPagoPlaca||window.confirm(c.infoEstadoCuenta.mensajeValidacionPagoPlaca))&&(e=T(),this.$router.push({name:"metodoPago",params:{infoCuenta:e}}))},c.goToCursos=function(){if(!c.modoOnBoarding){if(c.infoEstadoCuenta.paramEntradaPlaca)return $UTIL.showMessage("No es posible consultar cursos por placa, ingresa un nÃºmero de identificaciÃ³n","warning"),void setTimeout(function(){$(".uk-notify-message").remove()},6e3);if(0==c.infoEstadoCuenta.cursos.length)return $UTIL.showMessage("No hay cursos asociados.","warning"),void setTimeout(function(){$(".uk-notify-message").remove()},6e3);var e="",o="",a="",t="";0<c.infoEstadoCuenta.multas.length?(e=c.infoEstadoCuenta.multas[0].infractor.numeroDocumento,o=c.infoEstadoCuenta.multas[0].infractor.idTipoDocumento,a=c.infoEstadoCuenta.multas[0].infractor.nombre,t=c.infoEstadoCuenta.multas[0].infractor.apellido):0<c.infoEstadoCuenta.acuerdosPago.length&&(e=c.infoEstadoCuenta.acuerdosPago[0].infractor.numeroDocumento,o=c.infoEstadoCuenta.acuerdosPago[0].infractor.idTipoDocumento,a=c.infoEstadoCuenta.acuerdosPago[0].infractor.nombre,t=c.infoEstadoCuenta.acuerdosPago[0].infractor.apellido),""!=e&&null!=e&&null!=e||(e=c.numDocPlacaPazSalvo),sessionStorage.removeItem("infoEstadoCuenta"),this.$router.push({name:"cursosViales",params:{cursos:c.infoEstadoCuenta.cursos,numDocumento:e,idTipoDocumento:o,nombreInfractor:(a||"")+" "+(t||"")}})}},c.setAllTotalPagarMultas=function(){c.infoEstadoCuenta.totalMultasPagar=0,c.infoEstadoCuenta.cantMultasPagar=0,c.infoEstadoCuenta.multas.forEach(function(e){c.isDisponiblePago(e)&&(e.seleccionado=c.checkAllMultas,c.checkAllMultas&&p(e))})},c.isDisponiblePago=function(e){var o=!1;return(!e.comparendo||e.idEstadoComparendo!=$homeConstantes.estadoComparendo.PENDIENTE&&e.idEstadoComparendo!=$homeConstantes.estadoComparendo.PENDIENTE_CURSO||e.impreso||e.isMultaTipoEmbriaguezComp||e.contieneInfraccionesHG)&&(e.comparendo||!(e.idEstadoCartera==$homeConstantes.estadoCartera.PENDIENTE_PAGO&&!e.impreso&&"N"==e.cisa||e.idEstadoCartera==$homeConstantes.estadoCartera.COBRO_COACTIVO&&e.liquidacionCoactivoParam18&&"N"==e.cisa&&!e.impreso||e.idEstadoCartera==$homeConstantes.estadoCartera.AP_MORA&&e.liquidarIncumpApParam135&&!e.impreso))||(o=!0),o},c.setTotalPagarMultas=function(e){p(c.infoEstadoCuenta.multas[e])},c.setIdDivProyeccionMulta=function(e){c.modoOnBoarding||(0<c.infoEstadoCuenta.multas[e].proyeccion.length?(c.indexMultaProyeccion=e,c.idDivProyeccion="divProyeccion"+e):(c.indexMultaProyeccion=null,c.idDivProyeccion=null))},c.showCheckboxesCuotasAcuerdo=function(e){var o=c.infoEstadoCuenta.acuerdosPago[e].cuotasExpanded,a=document.getElementById("checkboxes"+e);o?(a.style.display="none",c.infoEstadoCuenta.acuerdosPago[e].cuotasExpanded=!1):(a.style.display="block",c.infoEstadoCuenta.acuerdosPago[e].cuotasExpanded=!0)},c.checkTodasCuotas=function(e){var t=c.infoEstadoCuenta.acuerdosPago[e];t.resultCuotasSelect||(t.resultCuotasSelect=[]),t.cuotasPendientes.forEach(function(e,o){var a;e.vencida||e.proxima||(t.selectAll&&!e.seleccionado?(e.seleccionado=!0,t.resultCuotasSelect.push(e.nroCuota),h(t,e,!1)):!t.selectAll&&e.seleccionado&&(e.seleccionado=!1,a=t.resultCuotasSelect.indexOf(e.nroCuota),t.resultCuotasSelect.splice(a,1),h(t,e,!1)))})},c.checkCuotas=function(e,o,a){var t,n=c.infoEstadoCuenta.acuerdosPago[e],i=n.cuotasPendientes[o],r=n.cuotasPendientes[o-1],s=n.cuotasPendientes[o+1];n.resultCuotasSelect||(n.resultCuotasSelect=[]),!r||r&&r.seleccionado?i.seleccionado?(n.resultCuotasSelect.push(i.nroCuota),h(n,i,a)):!s||s&&!s.seleccionado?(t=n.resultCuotasSelect.indexOf(i.nroCuota),n.resultCuotasSelect.splice(t,1),h(n,i,a)):(i.seleccionado=!0,document.getElementById("chkCuota"+e+"_"+o).checked=!0):a||(i.seleccionado=!1,document.getElementById("chkCuota"+e+"_"+o).checked=!1)},c.setAllTotalPagarAcuerdos=function(){c.infoEstadoCuenta.totalAcuerdosPagar=0,c.infoEstadoCuenta.cantAcuerdosPagar=0,c.infoEstadoCuenta.acuerdosPago.forEach(function(e){e.idEstado==$homeConstantes.estadoCartera.ACUERDO_PAGO&&e.liquidacionApParam16&&!e.impreso&&(e.seleccionado=c.checkAllAcuerdos,c.checkAllAcuerdos&&E(e))})},c.setTotalPagarAcuerdos=function(e){E(c.infoEstadoCuenta.acuerdosPago[e])},c.setAcuerdoSelectPlanPagos=function(e){c.modoOnBoarding||(c.apSelectPlanPagos=c.infoEstadoCuenta.acuerdosPago[e])},c.redirectPagosOnline=function(){(null==c.infoEstadoCuenta.mensajeValidacionPagoPlaca&&null==c.infoEstadoCuenta.mensajeValidacionPagoPlaca||window.confirm(c.infoEstadoCuenta.mensajeValidacionPagoPlaca))&&(c.modoOnBoarding||($UTIL.loader.show(),c.serviceExecute=c.redirectPagosOnlineLoading,resetWidget(c.onSubmit),grecaptcha.reset(widgetReCaptcha),grecaptcha.execute(widgetReCaptcha)))},c.redirectPagosOnlineLoading=function(){var e=T();e.reCaptchaDTO=c.reCaptchaDTO,$serviciosHome.resources.getUrlPago(JSON.stringify(e),function(e){window.location=e.url,$UTIL.loader.hide()},function(e){console.log(e),e.responseJSON&&($UTIL.showMessage(e.responseJSON.descripcion,"warning"),setTimeout(function(){$(".uk-notify-message").remove()},15e3)),$UTIL.loader.hide()})},c.getListTiposDocumento=function(e){$UTIL.loader.show(),c.serviceExecute=c.getListTiposDocumentoLoading,resetWidget(c.onSubmit),grecaptcha.reset(widgetReCaptcha),grecaptcha.execute(widgetReCaptcha)},c.getListTiposDocumentoLoading=function(){var e={filtro:""};e.reCaptchaDTO=c.reCaptchaDTO,$serviciosHome.resources.getListTiposDocumento(JSON.stringify(e),function(e){c.lisTiposDocumento=e,$UTIL.loader.hide()},function(e){$UTIL.showMessage("Se presentÃ³ un problema al tratar de consultar los tipos de documento.","error"),setTimeout(function(){$(".uk-notify-message").remove()},6e3),$UTIL.loader.hide()})},$(document).ready(function(){$(".navbar.main-header").removeClass("mb-4"),$(".popover-infraccion").popover({trigger:"hover focus",html:!0,placement:"top"}),c.init()}),c};